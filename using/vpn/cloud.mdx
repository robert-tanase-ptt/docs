---
title: "Cloud"
description: "Deploy the VPN agent in AWS or Azure cloud environments"
---

## Overview

You can deploy the VPN agent directly in your cloud environment to scan resources inside your VPCs and virtual networks. Both AWS and Azure are supported through their respective marketplaces.

<Info>
VPN profiles require the **Internal network scanning** add-on.
</Info>

<Tabs>
  <Tab title="AWS">
    ## Deploying on AWS

    The VPN agent is available as a pre-configured AMI on the AWS Marketplace.

    <Steps>
      <Step title="Launch from AWS Marketplace">
        Go to the [Pentest-Tools.com VPN Agent on AWS Marketplace](https://aws.amazon.com/marketplace/pp/prodview-647574sstaf66) and click **Continue to Subscribe**.
      </Step>
      <Step title="Configure the instance">
        Choose your instance type (t3.micro or larger) and select the VPC and subnet where your targets are located.
      </Step>
      <Step title="Configure the security group">
        The agent only needs outbound TCP port 22 to `vpn.pentest-tools.com`. No inbound ports are required, though you may want SSH access (port 22 from your IP) for management.
      </Step>
      <Step title="Activate the agent">
        SSH into the instance as `ubuntu` using your key pair. An interactive prompt asks for your VPN UUID (found on the [VPN Profiles](https://app.pentest-tools.com) page). Enter the UUID, and the agent starts automatically.

        <Warning>
        SSH access is removed from the instance after initial setup. Complete all network or OS-level configuration before entering the VPN UUID.
        </Warning>
      </Step>
      <Step title="Verify connection">
        Check that your VPN profile shows as **Online** in the dashboard.
      </Step>
    </Steps>

    ### Instance recommendations

    | Specification | Recommendation |
    |---------------|----------------|
    | Instance type | t3.micro or larger |
    | Storage | 10 GB gp3 |

    ### Multi-VPC scanning

    To scan resources across VPCs, you can use VPC Peering or Transit Gateway to route traffic, or deploy a separate agent in each VPC.
  </Tab>

  <Tab title="Azure">
    ## Deploying on Azure

    The VPN agent is available on the Azure Marketplace.

    <Steps>
      <Step title="Launch from Azure Marketplace">
        Go to the [Pentest-Tools.com VPN Agent on Azure Marketplace](https://marketplace.microsoft.com/en-us/product/virtual-machine/pentest-tools.pentest-tools-vpn-agent?tab=Overview) and click **Get It Now**.
      </Step>
      <Step title="Configure the VM">
        Select the virtual network and subnet where your targets are located. Standard_B1s or larger is sufficient.
      </Step>
      <Step title="Configure the NSG">
        Allow outbound TCP port 22 to `vpn.pentest-tools.com`. No other outbound rules are needed. Optionally allow inbound SSH from your IP for management.
      </Step>
      <Step title="Activate the agent">
        SSH into the VM as `ubuntu` using your key pair. An interactive prompt asks for your VPN UUID (found on the [VPN Profiles](https://app.pentest-tools.com) page). Enter the UUID, and the agent starts automatically.

        <Warning>
        SSH access is removed from the VM after initial setup. Complete all network or OS-level configuration before entering the VPN UUID.
        </Warning>
      </Step>
      <Step title="Verify connection">
        Check that your VPN profile shows as **Online** in the dashboard.
      </Step>
    </Steps>

    ### VM recommendations

    | Specification | Recommendation |
    |---------------|----------------|
    | Size | Standard_B1s or larger |
    | Disk | 32 GB Standard SSD |

    ### Multi-VNet scanning

    To scan across virtual networks, set up VNet peering, or deploy a separate agent in each VNet.
  </Tab>
</Tabs>

<Note>
You can also deploy the VPN agent using the [Docker image](/using/vpn/docker-agent) on any cloud VM instead of using the marketplace images. The marketplace images are pre-configured for convenience.
</Note>

## Related topics

- [VPN profiles overview](/using/vpn/overview)
- [Docker agent](/using/vpn/docker-agent)
- [Troubleshooting](/using/vpn/troubleshooting)
